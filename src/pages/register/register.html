<ion-header>
  <ion-navbar color="primary">
    <ion-title>New Account</ion-title>
  </ion-navbar>
</ion-header>
<!-- Creates a form where all parts of the form must be filled before being able to navigate further. The form is tied to methods in ts file that allow user to try and register and that checks for vaildity of enetered email and password.-->
<ion-content padding class="form-content">
  <form class="form" [formGroup]="validations_form"  (ngSubmit)="tryRegister(validations_form.value)">

    <ion-item>
      <ion-label floating color="primary">Email</ion-label>
      <ion-input type="text" formControlName="email"></ion-input>
    </ion-item>
    <div class="validation-errors">
      <ng-container *ngFor="let validation of validation_messages.email">
        <div class="error-message" *ngIf="validations_form.get('email').hasError(validation.type) && (validations_form.get('email').dirty || validations_form.get('email').touched)">
          {{ validation.message }}
        </div>
      </ng-container>
    </div>

    <ion-item>
      <ion-label floating color="primary">Password</ion-label>
      <ion-input type="password" formControlName="password" class="form-controll" required></ion-input>
    </ion-item>
    <div class="validation-errors">
      <ng-container *ngFor="let validation of validation_messages.password">
        <div class="error-message" *ngIf="validations_form.get('password').hasError(validation.type) && (validations_form.get('password').dirty || validations_form.get('password').touched)">
          {{ validation.message }}
        </div>
      </ng-container>
    </div>

    <button class="submit-btn" ion-button block type="submit" [disabled]="!validations_form.valid">Register</button>
    <label class="error-message">{{errorMessage}}</label>
    <label class="success-message">{{successMessage}}</label>
  </form>
  <!-- Button to navigate user to log in page -->
  <p class="go-to-login">Already have an account? <a (click)="goLoginPage()">Try to Log In.</a></p>

</ion-content>
